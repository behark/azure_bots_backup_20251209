# ============================================
# VOLUME VN BOT - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your actual values
# 
# SECURITY NOTICE:
# - Never commit .env to version control
# - Keep your API keys and secrets secure
# - Use read-only API keys when possible
# - Enable IP whitelist on exchange accounts
# ============================================

# ============================================
# EXCHANGE API CREDENTIALS (Required for trading)
# ============================================

# Binance USDⓈ-M Futures
# Get from: https://www.binance.com/en/my/settings/api-management
BINANCEUSDM_API_KEY=your_binance_api_key_here
BINANCEUSDM_SECRET=your_binance_secret_here

# MEXC (Optional - only if using MEXC)
# Get from: https://www.mexc.com/user/openapi
MEXC_API_KEY=your_mexc_api_key_here
MEXC_SECRET=your_mexc_secret_here

# Bybit (Optional - only if using Bybit)
# Get from: https://www.bybit.com/app/user/api-management
BYBIT_API_KEY=your_bybit_api_key_here
BYBIT_SECRET=your_bybit_secret_here

# ============================================
# TELEGRAM NOTIFICATIONS (Required)
# ============================================

# Primary Telegram bot token
# Get from: https://t.me/BotFather
# Format: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# Telegram chat ID (your user ID or group chat ID)
# Get from: https://t.me/userinfobot (for user ID)
# For group: Add bot to group, then get updates via https://api.telegram.org/bot<TOKEN>/getUpdates
# Format: -1001234567890 (groups start with -)
TELEGRAM_CHAT_ID=-1001234567890

# Optional: Dedicated token for volume bot (overrides TELEGRAM_BOT_TOKEN)
#TELEGRAM_BOT_TOKEN_VOLUME=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# ============================================
# BOT CONFIGURATION (Optional - uses defaults if not set)
# ============================================

# Analysis Parameters
VOLUME_BOT_CANDLE_LIMIT=200                    # Number of candles to fetch
VOLUME_BOT_REQUEST_TIMEOUT=30                  # API request timeout in seconds
VOLUME_BOT_SPIKE_THRESHOLD=1.5                 # Volume spike multiplier (1.5 = 150% of average)
VOLUME_BOT_PRESSURE_THRESHOLD=1.2              # Buying pressure threshold

# Signal Management
VOLUME_BOT_COOLDOWN_MINUTES=5                  # Minutes before repeating alert for same pair
VOLUME_BOT_MAX_SIGNAL_AGE_HOURS=24             # Auto-close signals older than this
VOLUME_BOT_MAX_OPEN_SIGNALS=50                 # Maximum concurrent open signals

# Risk Management
VOLUME_BOT_STOP_LOSS_PCT=1.5                   # Default stop loss percentage (1.5%)
VOLUME_BOT_MIN_RISK_PCT=1.0                    # Minimum risk per trade (1%)
VOLUME_BOT_TP1_MULTIPLIER=2.0                  # Take profit 1 multiplier (2R)
VOLUME_BOT_TP2_MULTIPLIER=3.0                  # Take profit 2 multiplier (3R)
VOLUME_BOT_MIN_RISK_REWARD=1.5                 # Minimum risk:reward ratio
VOLUME_BOT_MAX_POSITION_USD=10000              # Maximum position size in USD

# Rate Limiting
VOLUME_BOT_BASE_DELAY=0.5                      # Base delay between requests (seconds)
VOLUME_BOT_MAX_RETRIES=5                       # Maximum retry attempts
VOLUME_BOT_CALLS_PER_MINUTE=60                 # Maximum API calls per minute

# Execution
VOLUME_BOT_CYCLE_INTERVAL=60                   # Seconds between full cycles
VOLUME_BOT_SYMBOL_DELAY=5                      # Seconds delay between analyzing symbols

# ============================================
# LOGGING (Optional)
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# ADVANCED CONFIGURATION (Optional)
# ============================================

# Use external config file (overrides environment variables)
# Create a config.json file based on the template in the docs
#VOLUME_BOT_CONFIG_FILE=config.json

# ============================================
# VALIDATION CHECKLIST
# ============================================
# Before running the bot, ensure:
# ✅ TELEGRAM_BOT_TOKEN is set and valid
# ✅ TELEGRAM_CHAT_ID is set and valid
# ✅ At least one exchange API key/secret is configured
# ✅ API keys have appropriate permissions (read + trade)
# ✅ IP whitelist is configured on exchange (recommended)
# ✅ Watchlist file exists (volume_watchlist.json)
# ============================================

# ============================================
# GETTING STARTED
# ============================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your actual credentials
# 3. Create watchlist: volume_bot/volume_watchlist.json
# 4. Test configuration: python volume_vn_bot.py --once
# 5. Check logs: tail -f volume_bot/logs/volume_vn_bot.log
# 6. Run continuously: python volume_vn_bot.py
# ============================================

# ============================================
# TROUBLESHOOTING
# ============================================
# Error: "Missing required environment variables"
#   → Check TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_ID are set
#
# Error: "Invalid API credentials"
#   → Verify API keys on exchange website
#   → Check IP whitelist settings
#
# Error: "Network error fetching ticker"
#   → Check internet connection
#   → Verify exchange API is accessible
#
# No signals generated:
#   → Check watchlist file exists and is valid JSON
#   → Verify symbols are correct (e.g., "BTC/USDT:USDT" for futures)
#   → Check logs for analysis errors
# ============================================
